<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Famous Framework (tests page)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link href='assets/reset.min.css' rel='stylesheet' type='text/css'>
    <script>document.write('<script src="http://'+(location.host||'localhost').split(':')[0]+':35729/livereload.js?snipver=1"></'+'script>');</script>
    <style type="text/css">
    body {
        font-family: Lato, Helvetica, Arial, sans-serif;
    }
    #demo {
        height: 90%;
        width: 100%;
    }
    #iframe {
        height: 100%;
        width: 100%;
    }
    #nav {
        background-color: black;
        height: 10%;
        width: 100%;
    }
    #next-button,
    #prev-button {
        float: left;
        background-color: black;
        border-radius: 0;
        border: 1px solid #666;
        color: white;
        cursor: pointer;
        height: 100%;
        outline: none;
        width: 33.3%;
    }
    #current-module-name-box {
        display: table;
        float: left;
        width: 33.3%;
        height: 100%;
        color: white;
        text-align: center;
        font-size: 0.8em;
        border-top: 1px solid #666;
        border-bottom: 1px solid #666;
    }
    #current-module-name-span {
        display: table-cell;
        vertical-align: middle;
    }
    </style>
</head>
<body>
    <div id="demo">
        <iframe id="iframe" scrolling="no"></iframe>
    </div>
    <div id="nav">
        <button id="prev-button">
            <span>&larr; Prev</span>
        </button>
        <div id="current-module-name-box"><span id="current-module-name-span">famous-demos:clickable-square</span></div>
        <button id="next-button">
            <span>Next &rarr;</span>
        </button>
    </div>
    <script type="text/javascript" src="assets/query-string.js"></script>
    <script type="text/javascript">
        var modules = [
            'famous-demos:animation-timeline',
            'famous-demos:attach-webgl',
            'famous-demos:clickable-square',
            'famous-demos:clickable-square-with-logo',
            'famous-demos:dynamic-list',
            'famous-demos:lifecycle',
            'famous-demos:repeat-color-wheel',
            'famous-demos:scroll-view-example',
            'famous-demos:styling-inner-content',

            'famous-tests:array-tweening',
            'famous-tests:assets-large',
            'famous-tests:component-composition',
            'famous-tests:control-flow:basic-if',
            'famous-tests:control-flow:repeat',
            'famous-tests:control-flow:static-repeat',
            'famous-tests:custom-famous-node',
            'famous-tests:custom-toolchain',
            'famous-tests:dispatcher-broadcasting',
            'famous-tests:dispatcher-trigger',
            'famous-tests:engine-integration',
            'famous-tests:fouc',
            'famous-tests:misspelled-facets',
            'famous-tests:mount-point',
            'famous-tests:opacity',
            'famous-tests:pass-through',
            'famous-tests:scope',
            'famous-tests:size-change-event',
            'famous-tests:state-interruption',
            'famous-tests:state-manager-test',
            'famous-tests:static-assets',
            'famous-tests:timeline:example',
            'famous-tests:timeline:top-level-function',
            'famous-tests:weird-files'
        ];
        var iframeEl = document.getElementById('iframe');
        var modSpan  = document.getElementById('current-module-name-span');
        function updateCurrentModule(name) {
            iframeEl.setAttribute('src', 'index.html?ff=' + currentModule);
            modSpan.innerText = currentModule;
            window.history.pushState(currentModule, 'Famous Framework (tests page)', 'tests.html?ff=' + currentModule);
        }

        var currentModule = QUERY.ff || 'famous-demos:clickable-square';
        updateCurrentModule(currentModule);

        var nextButtonEl = document.getElementById('next-button');        
        nextButtonEl.addEventListener('click', function(clickEvent) {
            var indexOfCurrent = modules.indexOf(currentModule);
            var indexOfNext = (indexOfCurrent + 1) % modules.length;
            currentModule = modules[indexOfNext];
            updateCurrentModule(currentModule);
        });

        var prevButtonEl = document.getElementById('prev-button');
        prevButtonEl.addEventListener('click', function(clickEvent) {
            var indexOfCurrent = modules.indexOf(currentModule);
            var indexOfPrev = (indexOfCurrent - 1) % modules.length;
            if (indexOfPrev < 0) {
                indexOfPrev = modules.length - 1;
            }
            currentModule = modules[indexOfPrev];
            updateCurrentModule(currentModule);
        });
    </script>
</body>
</html>
